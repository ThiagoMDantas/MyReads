{"ast":null,"code":"import _objectSpread from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/via/\\xC1rea de Trabalho/myreads-master/src/App.js\";\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport './App.css';\nimport BookShelf from './components/bookshelf/bookShelf';\nimport SearchBooks from './components/search/searchBooks';\nimport * as BooksAPI from './BooksAPI';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleSelectMoveBooks = function (bookChanged, to) {\n      if (!_this.state.books.find(function (value) {\n        return value.id === bookChanged.id;\n      })) {\n        bookChanged.shelf = to;\n\n        _this.setState(function (currentState) {\n          return {\n            books: currentState.books.concat(bookChanged)\n          };\n        });\n      } else {\n        _this.setState(function (currentState) {\n          return {\n            books: currentState.books.map(function (book) {\n              return book.id === bookChanged.id ? _objectSpread({}, book, {\n                shelf: to\n              }) : book;\n            })\n          };\n        });\n      }\n\n      BooksAPI.update(bookChanged, to);\n    };\n\n    _this.state = {\n      books: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (books) {\n        _this2.setState(function () {\n          return {\n            books: books\n          };\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: function component() {\n          return React.createElement(BookShelf, {\n            moveBooks: _this3.handleSelectMoveBooks,\n            books: _this3.state.books,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/search\",\n        component: function component() {\n          return React.createElement(SearchBooks, {\n            moveBooks: _this3.handleSelectMoveBooks,\n            booksOnShelfs: _this3.state.books,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/home/via/Área de Trabalho/myreads-master/src/App.js"],"names":["React","Route","BookShelf","SearchBooks","BooksAPI","App","props","handleSelectMoveBooks","bookChanged","to","state","books","find","value","id","shelf","setState","currentState","concat","map","book","update","getAll","then","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAO,WAAP;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;;IAMqBC,G;;;;;AAEnB,eAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,6EAAMA,KAAN;;AADgB,UAgBlBC,qBAhBkB,GAgBM,UAACC,WAAD,EAAcC,EAAd,EAAqB;AAC3C,UAAG,CAAC,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,IAAjB,CAAsB,UAACC,KAAD;AAAA,eAAWA,KAAK,CAACC,EAAN,KAAaN,WAAW,CAACM,EAApC;AAAA,OAAtB,CAAJ,EAAkE;AAChEN,QAAAA,WAAW,CAACO,KAAZ,GAAoBN,EAApB;;AACA,cAAKO,QAAL,CAAc,UAACC,YAAD;AAAA,iBAAmB;AAC/BN,YAAAA,KAAK,EAAGM,YAAY,CAACN,KAAb,CAAmBO,MAAnB,CAA0BV,WAA1B;AADuB,WAAnB;AAAA,SAAd;AAGD,OALD,MAKM;AACJ,cAAKQ,QAAL,CAAc,UAACC,YAAD;AAAA,iBAAmB;AAC/BN,YAAAA,KAAK,EAAGM,YAAY,CAACN,KAAb,CAAmBQ,GAAnB,CAAuB,UAAAC,IAAI;AAAA,qBAAIA,IAAI,CAACN,EAAL,KAAYN,WAAW,CAACM,EAAxB,qBAAkCM,IAAlC;AAAwCL,gBAAAA,KAAK,EAAEN;AAA/C,mBAAqDW,IAAzD;AAAA,aAA3B;AADuB,WAAnB;AAAA,SAAd;AAGD;;AACDhB,MAAAA,QAAQ,CAACiB,MAAT,CAAgBb,WAAhB,EAA6BC,EAA7B;AACH,KA5BmB;;AAEhB,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAFgB;AAKjB;;;;wCAEkB;AAAA;;AACjBP,MAAAA,QAAQ,CAACkB,MAAT,GACGC,IADH,CACQ,UAACZ,KAAD,EAAU;AACd,QAAA,MAAI,CAACK,QAAL,CAAc;AAAA,iBAAO;AACnBL,YAAAA,KAAK,EAALA;AADmB,WAAP;AAAA,SAAd;AAGD,OALH;AAMD;;;6BAgBQ;AAAA;;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAE;AAAA,iBAC/B,oBAAC,SAAD;AAAW,YAAA,SAAS,EAAE,MAAI,CAACJ,qBAA3B;AAAkD,YAAA,KAAK,EAAE,MAAI,CAACG,KAAL,CAAWC,KAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD+B;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAIG,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,SAAS,EAAE;AAAA,iBAChC,oBAAC,WAAD;AAAa,YAAA,SAAS,EAAE,MAAI,CAACJ,qBAA7B;AAAoD,YAAA,aAAa,EAAE,MAAI,CAACG,KAAL,CAAWC,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADgC;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJH,CADF;AAUD;;;;EA3C8BX,KAAK,CAACwB,S;;SAAlBnB,G","sourcesContent":["import React from 'react'\nimport { Route } from 'react-router-dom'\nimport './App.css'\nimport BookShelf from './components/bookshelf/bookShelf'\nimport SearchBooks from './components/search/searchBooks'\nimport * as BooksAPI from './BooksAPI'\n\n\n\n\n\nexport default class App extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      books: []\n    }\n  }\n\n  componentDidMount(){\n    BooksAPI.getAll()\n      .then((books) =>{\n        this.setState(() => ({\n          books\n        }))\n      })\n  }\n\n  handleSelectMoveBooks = (bookChanged, to) => {\n    if(!this.state.books.find((value) => value.id === bookChanged.id)){\n      bookChanged.shelf = to\n      this.setState((currentState) => ({\n        books : currentState.books.concat(bookChanged)\n      }))\n    }else {\n      this.setState((currentState) => ({\n        books : currentState.books.map(book => book.id === bookChanged.id ? ({...book, shelf: to}): book)\n      }))\n    }\n    BooksAPI.update(bookChanged, to)\n}\n\n  render() {\n    return (\n      <div>\n        <Route exact path='/' component={() => (\n          <BookShelf moveBooks={this.handleSelectMoveBooks} books={this.state.books}/>\n        )}/>\n         <Route path='/search' component={() => (\n          <SearchBooks moveBooks={this.handleSelectMoveBooks} booksOnShelfs={this.state.books}/>\n        )}/>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}