{"ast":null,"code":"import _classCallCheck from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/via/\\xC1rea de Trabalho/myreads-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/via/\\xC1rea de Trabalho/myreads-master/src/components/search/searchBooks.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as BooksAPI from '../../BooksAPI';\nimport Book from '../books/books';\n\nvar SearchBooks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchBooks, _Component);\n\n  function SearchBooks(props) {\n    var _this;\n\n    _classCallCheck(this, SearchBooks);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchBooks).call(this, props));\n\n    _this.searchBook = function () {\n      var searchValue = _this.state.searchValue;\n\n      if (searchValue) {\n        BooksAPI.search(\"\".concat(searchValue)).then(function (booksSearch) {\n          if (booksSearch.length) {\n            _this.setState(function () {\n              return {\n                booksSearch: booksSearch\n              };\n            });\n          } else {\n            _this.setState(function () {\n              return {\n                booksSearch: []\n              };\n            });\n          }\n        });\n      } else {\n        _this.setState({\n          booksSearch: []\n        });\n      }\n    };\n\n    _this.handleChange = function (e) {\n      var searchValue = e.target.value;\n\n      _this.setState(function () {\n        return {\n          searchValue: searchValue\n        };\n      }); // Apos setar o state, chama a api de busca\n\n\n      _this.searchBook();\n    };\n\n    _this.state = {\n      booksSearch: [],\n      searchValue: ''\n    };\n    return _this;\n  }\n  /**\n  ** Author: Robson Junior\n  ** Summary: Funcao responsavel por fazer o search dos livros a cada alteracao no input\n  * tambem faz tratamento caso o retorno da API nao seja satisfatorio para o componente\n  */\n\n\n  _createClass(SearchBooks, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"search-books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-books-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"close-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \" Close \"), React.createElement(\"div\", {\n        className: \"search-books-input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        autoFocus: true,\n        placeholder: \"Search by title or author\",\n        value: this.state.searchValue,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search-books-results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        className: \"books-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Book, {\n        books: this.state.booksSearch,\n        moveBooks: this.props.moveBooks,\n        booksOnShelfs: this.props.booksOnShelfs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SearchBooks;\n}(Component);\n\nexport { SearchBooks as default };","map":{"version":3,"sources":["/home/via/Ãrea de Trabalho/myreads-master/src/components/search/searchBooks.js"],"names":["React","Component","Link","BooksAPI","Book","SearchBooks","props","searchBook","searchValue","state","search","then","booksSearch","length","setState","handleChange","e","target","value","moveBooks","booksOnShelfs"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,KAAKC,QAAZ,MAA0B,gBAA1B;AACA,OAAOC,IAAP,MAAiB,gBAAjB;;IAEqBC,W;;;;;AAEnB,uBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,qFAAMA,KAAN;;AADgB,UAalBC,UAbkB,GAaL,YAAM;AAAA,UACTC,WADS,GACO,MAAKC,KADZ,CACTD,WADS;;AAElB,UAAGA,WAAH,EAAe;AACZL,QAAAA,QAAQ,CAACO,MAAT,WAAmBF,WAAnB,GACCG,IADD,CACM,UAACC,WAAD,EAAgB;AACpB,cAAGA,WAAW,CAACC,MAAf,EAAsB;AACpB,kBAAKC,QAAL,CAAc;AAAA,qBAAO;AACnBF,gBAAAA,WAAW,EAAXA;AADmB,eAAP;AAAA,aAAd;AAGD,WAJD,MAIM;AACJ,kBAAKE,QAAL,CAAc;AAAA,qBAAO;AACnBF,gBAAAA,WAAW,EAAE;AADM,eAAP;AAAA,aAAd;AAGD;AACF,SAXD;AAYD,OAbF,MAaO;AACJ,cAAKE,QAAL,CAAc;AACZF,UAAAA,WAAW,EAAE;AADD,SAAd;AAGD;AACF,KAjCiB;;AAAA,UAuClBG,YAvCkB,GAuCH,UAACC,CAAD,EAAO;AACpB,UAAMR,WAAW,GAAGQ,CAAC,CAACC,MAAF,CAASC,KAA7B;;AACA,YAAKJ,QAAL,CAAc;AAAA,eAAO;AACnBN,UAAAA,WAAW,EAAXA;AADmB,SAAP;AAAA,OAAd,EAFoB,CAKpB;;;AACA,YAAKD,UAAL;AACD,KA9CiB;;AAEhB,UAAKE,KAAL,GAAa;AACXG,MAAAA,WAAW,EAAE,EADF;AAEXJ,MAAAA,WAAW,EAAE;AAFF,KAAb;AAFgB;AAMjB;AAED;;;;;;;;;6BAyCS;AAAA;;AACP,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,EAEE;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,MAA5B;AAA6B,QAAA,WAAW,EAAC,2BAAzC;AAAqE,QAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,WAAvF;AAAoG,QAAA,QAAQ,EAAE,kBAACQ,CAAD;AAAA,iBAAO,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAP;AAAA,SAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADA,EAOA;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWG,WAAxB;AAAqC,QAAA,SAAS,EAAE,KAAKN,KAAL,CAAWa,SAA3D;AAAsE,QAAA,aAAa,EAAE,KAAKb,KAAL,CAAWc,aAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAPA,CADF;AAgBD;;;;EApEsCnB,S;;SAApBI,W","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport * as BooksAPI from '../../BooksAPI'\nimport Book from '../books/books'\n\nexport default class SearchBooks extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      booksSearch: [],\n      searchValue: ''\n    }\n  }\n\n  /**\n  ** Author: Robson Junior\n  ** Summary: Funcao responsavel por fazer o search dos livros a cada alteracao no input\n  * tambem faz tratamento caso o retorno da API nao seja satisfatorio para o componente\n  */\n  searchBook = () => {\n    const { searchValue } = this.state\n   if(searchValue){\n      BooksAPI.search(`${searchValue}`)\n      .then((booksSearch) =>{\n        if(booksSearch.length){\n          this.setState(() => ({\n            booksSearch\n          }))\n        }else {\n          this.setState(() => ({\n            booksSearch: []\n          }))\n        }\n      })\n    } else{\n      this.setState({\n        booksSearch: []\n      })\n    }\n  }\n  /**\n  ** Author: Robson Junior\n  ** Summary: Funcao responsavel por tratar todo evento de mudanca do input, atualizando o\n  * state de search\n  */\n  handleChange = (e) => {\n    const searchValue = e.target.value\n    this.setState(() => ({\n      searchValue\n    }))\n    // Apos setar o state, chama a api de busca\n    this.searchBook()\n  }\n  \n\n  render() {\n    return (\n      <div className=\"search-books\">\n      <div className=\"search-books-bar\">\n      <Link to='/' className='close-search'> Close </Link>\n        <div className=\"search-books-input-wrapper\">\n          <input type=\"text\" autoFocus placeholder=\"Search by title or author\" value={this.state.searchValue} onChange={(e) => this.handleChange(e)}/>\n        </div>\n      </div>\n      <div className=\"search-books-results\">\n        <ol className=\"books-grid\">\n          <Book books={this.state.booksSearch} moveBooks={this.props.moveBooks} booksOnShelfs={this.props.booksOnShelfs} />\n        </ol>\n\n      </div>\n    </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}